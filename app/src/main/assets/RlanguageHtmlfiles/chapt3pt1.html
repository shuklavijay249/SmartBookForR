

<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" async="true">
<div class="page-header">
<h1 style="text-align: left;">R Data Frame: Create, Append, Select, Subset</h1>
</div>
<div>
<h2><a id="1"></a>What is a Data Frame?</h2>
<p>A&nbsp;<strong>data frame</strong>&nbsp;is a list of vectors which are of equal length. A matrix contains only one type of data, while a data frame accepts different data types (numeric, character, factor, etc.).</p>
<p>In this tutorial, you will learn-</p>
<ul>
<li><a href="https://www.guru99.com/r-data-frames.html#1">What is a Data Frame?</a></li>
<li><a href="https://www.guru99.com/r-data-frames.html#2">How to Create a Data Frame</a></li>
<li><a href="https://www.guru99.com/r-data-frames.html#3">Append a Column to Data Frame</a></li>
<li><a href="https://www.guru99.com/r-data-frames.html#4">Select a Column of a Data Frame</a></li>
<li><a href="https://www.guru99.com/r-data-frames.html#5">Subset a Data Frame</a></li>
</ul>
<h2><a id="2"></a>How to Create a Data Frame</h2>
<p>We can create a data frame by passing the variable a,b,c,d into the data.frame() function. We can name the columns with name() and simply specify the name of the variables.</p>
<pre>data.frame(df, stringsAsFactors = TRUE)
</pre>
<p><strong>Arguments</strong>:</p>
<ul>
<li><strong>df</strong>: It can be a matrix to convert as a data frame or a collection of variables to join</li>
<li><strong>stringsAsFactors</strong>: Convert string to factor by default</li>
</ul>
<p>We can create our first data set by combining four variables of same length.</p>
<pre># Create a, b, c, d variables
a &lt;- c(10,20,30,40)
b &lt;- c('book', 'pen', 'textbook', 'pencil_case')
c &lt;- c(TRUE,FALSE,TRUE,FALSE)
d &lt;- c(2.5, 8, 10, 7)
# Join the variables to create a data frame
df &lt;- data.frame(a,b,c,d)
df
</pre>
<p><strong>Output:</strong></p>
<pre>##   a       b c d
## 1  1        book  TRUE   2.5
## 2  2         pen  TRUE   8.0
## 3  3    textbook  TRUE  10.0
## 4  4 pencil_case FALSE   7.0
</pre>
<p>We can see the column headers have the same name as the variables. We can change the column name with the function names(). Check the example below:</p>
<pre># Name the data frame
names(df) &lt;- c('ID', 'items', 'store', 'price')
df
</pre>
<p><strong>Output:</strong></p>
<pre>##   ID       items store price
## 1 10        book  TRUE   2.5
## 2 20         pen FALSE   8.0
## 3 30    textbook  TRUE  10.0
## 4 40 pencil_case FALSE   7.0</pre>
<pre># Print the structure
str(df)
</pre>
<p><strong>Output:</strong></p>
<pre>## 'data.frame':    4 obs. of  4 variables:
##  $ ID   : num  10 20 30 40
##  $ items: Factor w/ 4 levels "book","pen","pencil_case",..: 1 2 4 3
##  $ store: logi  TRUE FALSE TRUE FALSE
##  $ price: num  2.5 8 10 7
</pre>
<p><strong>By default, data frame returns string variables as a factor.</strong></p>
<h2>Slice Data Frame</h2>
<p>It is possible to SLICE values of a Data Frame. We select the rows and columns to return into bracket precede by the name of the data frame.</p>
<p>A data frame is composed of rows and columns, df[A, B]. A represents the rows and B the columns. We can slice either by specifying the rows and/or columns.</p>
<p>From picture 1, the left part represents the&nbsp;<strong>rows,</strong>&nbsp;and the right part is the&nbsp;<strong>columns</strong>. Note that the symbol : means&nbsp;<strong>to</strong>. For instance, 1:3 intends to select values from 1&nbsp;<strong>to</strong>&nbsp;3.</p>
<p><a class="jh-image-popup-colorbox cboxElement" href="https://www.guru99.com/images/r_programming/032918_1452_RDataFrames1.png"><img src="https://www.guru99.com/images/r_programming/032918_1452_RDataFrames1.png" alt="" /></a></p>
<p>In below diagram we display how to access different selection of the data frame:</p>
<ul>
<li>The yellow arrow selects the&nbsp;<strong>row</strong>&nbsp;1 in&nbsp;<strong>column</strong>&nbsp;2</li>
<li>The green arrow selects the&nbsp;<strong>rows</strong>&nbsp;1 to 2</li>
<li>The red arrow selects the&nbsp;<strong>column</strong>&nbsp;1</li>
<li>The blue arrow selects the&nbsp;<strong>rows</strong>&nbsp;1 to 3 and&nbsp;<strong>columns</strong>&nbsp;3 to 4</li>
</ul>
<p>Note that, if we let the left part blank, R will select&nbsp;<strong>all the rows</strong>. By analogy, if we let the right part blank, R will select&nbsp;<strong>all the columns</strong>.</p>
<p><a class="jh-image-popup-colorbox cboxElement" href="https://www.guru99.com/images/r_programming/032918_1452_RDataFrames2.png"><img src="https://www.guru99.com/images/r_programming/032918_1452_RDataFrames2.png" alt="" width="300px;" /></a></p>
<p>We can run the code in the console:</p>
<pre>## Select row 1 in column 2
df[1,2]</pre>
<p><strong>Output:</strong></p>
<pre>## [1] book
## Levels: book pen pencil_case textbook</pre>
<pre>## Select Rows 1 to 2
df[1:2,]</pre>
<p><strong>Output:</strong></p>
<pre>##   ID items store price
## 1 10  book  TRUE   2.5
## 2 20   pen FALSE   8.0</pre>
<pre>## Select Columns 1
df[,1]</pre>
<p><strong>Output:</strong></p>
<pre>## [1] 10 20 30 40</pre>
<pre>## Select Rows 1 to 3 and columns 3 to 4
df[1:3, 3:4]</pre>
<p><strong>Output:</strong></p>
<pre>##   store price
## 1  TRUE   2.5
## 2 FALSE   8.0
## 3  TRUE  10.0</pre>
<p>It is also possible to select the columns with their names. For instance, the code below extracts two columns: ID and store.</p>
<pre># Slice with columns name
df[, c('ID', 'store')]</pre>
<p><strong>Output:</strong></p>
<pre>##   ID store
## 1 10  TRUE
## 2 20 FALSE
## 3 30  TRUE
## 4 40 FALSE
</pre>
<h2><a id="3"></a>Append a Column to Data Frame</h2>
<p>You can also append a column to a Data Frame. You need to use the symbol $ to append a new variable.</p>
<pre># Create a new vector
quantity &lt;- c(10, 35, 40, 5)

# Add `quantity` to the `df` data frame
df$quantity &lt;- quantity
df</pre>
<p><strong>Output:</strong></p>
<pre>##   ID       items store price quantity
## 1 10        book  TRUE   2.5       10
## 2 20         pen FALSE   8.0       35
## 3 30    textbook  TRUE  10.0       40
## 4 40 pencil_case FALSE   7.0        5</pre>
<p>Note: The number of elements in the vector has to be equal to the no of elements in data frame. Executing the following statement</p>
<pre>quantity &lt;- c(10, 35, 40)
# Add `quantity` to the `df` data frame
df$quantity &lt;- quantity</pre>
<p><strong>Gives error:</strong></p>
<pre>Error in `$&lt;-.data.frame`(`*tmp*`, quantity,<br /> value = c(10, 35, 40)) 
 replacement has 3 rows, data has 4					</pre>
<h2><a id="4"></a>Select a Column of a Data Frame</h2>
<p>Sometimes, we need to store a column of a data frame for future use or perform operation on a column. We can use the $ sign to select the column from a data frame.</p>
<pre># Select the column ID
df$ID</pre>
<p><strong>Output:</strong></p>
<pre>## [1] 1 2 3 4</pre>
<h3><a id="5"></a>Subset a Data Frame</h3>
<p>In the previous section, we selected an entire column without condition. It is possible to&nbsp;<strong>subset</strong>based on whether or not a certain condition was true.</p>
<p>We use the subset() function.</p>
<pre>subset(x, condition)
arguments:
- x: data frame used to perform the subset
- condition: define the conditional statement
</pre>
<p>We want to return only the items with price above 10, we can do:</p>
<pre># Select price above 5
subset(df, subset = price &gt; 5)</pre>
<p><strong>Output:</strong></p>
<pre>ID       items store price
2 20         pen FALSE     8
3 30    textbook  TRUE    10
4 40 pencil_case FALSE     7</pre>
</div>